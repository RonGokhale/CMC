#!/bin/bash
# Written by lithid (mrlithid@gmail.com)
. $PIKNAC_HOME/tools/f/compile_functions
chk_cmc_config
chk_adb_running

clear
echo -e "<<< "$CLR"$HEADLINE"$toff" >>>
Main > "$CLR"Update Cyanogenmod"$toff"
Repos found: "$CLR"$FOUND_NUM"$toff"	Repos configured in ~/.cmcrc: "$CLR"$CONFIGED"$toff"

	"$CLR"Y"$toff"/n) This will update the Cyanogenmod Repo.
	Should we proceed with this?

	"$CLR"U"$toff") Update the repo
	"$CLR"S"$toff") Initial sync
	"$CLR"F"$toff") Force repo sync

	"$CLR"Note:"$toff"
	Default is yes type \"n\" or \"no\" to stop this from happening.
	You can also press \"0\" to return to the main menu without changes.

	"$tred"NOTE:"$toff" You can FORCE a repo sync by typing \""$CLR"f"$toff"\"
	-----
	"$CLR"B"$toff") back to main menu
	"$CLR"X"$toff") exit

Device Info: "$CLR"$DEVICE_MAN"$toff"/"$CLR"$DEVICE_MOD"$toff" ADB: $ADB_MSG
Please choose an option to continue ("$CLR"Y"$toff"/n)"
echo -n "> "

read option
case $option in
	[nN] | [n|N][O|o] )
		clear
		echo "Not updating the CM repo!"
		sleep 2
		$MAIN;;
	b|B)
		$MAIN;;
	f|F)
		reposync
		$MAIN;;
	s|S)
		reposync
		$MAIN;;
	x|X)
		echo "Goodbye!"
		exit 0;;
	*)
		reposync_update
		$MAIN;;
esac
